{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Button/Button.js","components/services/services.js","App.js","index.js","components/SearchBar/SearchBar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","SearchBar","state","searchbar","handleSubmit","e","preventDefault","props","submit","reset","handleInputChange","currentTarget","name","value","setState","this","className","s","Searchbar","onSubmit","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","largeImageURL","tags","modalOpen","onClick","src","alt","ImageGalleryItemImage","ImageGallery","result","map","image","id","Modal","cleanEventListener","code","window","addEventListener","removeEventListener","Overlay","Button","fetchImage","searchName","pages","fetch","then","response","ok","json","Promise","reject","Error","App","status","isLoading","page","error","fetchImageApi","imageApi","images","total","prevState","hits","catch","loadMore","scrollTo","top","document","documentElement","scrollHeight","behavior","moduleUrl","moduleAlt","modalClose","onFormSubmit","prevProps","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,iMCgDZC,E,4MAxCbC,MAAQ,CACNC,UAAW,I,EAEbC,aAAe,SAACC,GACdA,EAAEC,iBACF,EAAKC,MAAMC,OAAO,EAAKN,MAAMC,WAC7B,EAAKM,S,EAEPC,kBAAoB,SAACL,GACnB,MAAwBA,EAAEM,cAAlBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MACd,EAAKC,SAAL,eAAiBF,EAAOC,K,EAG1BJ,MAAQ,WACN,EAAKK,SAAS,CAAEX,UAAW,M,4CAG7B,WACE,IAAQA,EAAcY,KAAKb,MAAnBC,UACR,OACE,wBAAQa,UAAWC,IAAEC,UAArB,SACE,uBAAMC,SAAUJ,KAAKX,aAAcY,UAAWC,IAAEG,WAAhD,UACE,wBAAQC,KAAK,SAASL,UAAWC,IAAEK,iBAAnC,SACE,sBAAMN,UAAWC,IAAEM,sBAAnB,sBAEF,uBACEP,UAAWC,IAAEO,gBACbH,KAAK,OACLT,KAAK,YACLC,MAAOV,EACPsB,SAAUV,KAAKL,kBACfgB,aAAa,MACbC,WAAS,EACTC,YAAY,sC,GArCAC,a,gBCUTC,EAZU,SAAC,GAAsD,IAApDC,EAAmD,EAAnDA,aAAcC,EAAqC,EAArCA,cAAeC,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,UAC7D,OACE,oBACElB,UAAWC,IAAEa,iBACbK,QAAS,WACPD,EAAUF,EAAeC,IAH7B,SAME,qBAAKG,IAAKL,EAAcM,IAAKJ,EAAMjB,UAAWC,IAAEqB,2B,iBCNvC,SAASC,EAAT,GAA8C,IAAtBL,EAAqB,EAArBA,UAAWM,EAAU,EAAVA,OAChD,OACE,oBAAIxB,UAAWC,IAAEsB,aAAjB,SACGC,EAAOC,KAAI,SAACC,GAAD,OACV,cAAC,EAAD,CAEET,KAAMS,EAAMT,KACZF,aAAcW,EAAMX,aACpBC,cAAeU,EAAMV,cACrBE,UAAWA,GAJNQ,EAAMC,S,qBCwBNC,E,4MAhBbC,mBAAqB,SAACxC,GACL,WAAXA,EAAEyC,MACJ,EAAKvC,MAAM4B,W,uDATf,WACEY,OAAOC,iBAAiB,UAAWjC,KAAK8B,sB,kCAE1C,WACEE,OAAOE,oBAAoB,UAAWlC,KAAK8B,sB,oBAQ7C,WACE,MAAwC9B,KAAKR,MAArC4B,EAAR,EAAQA,QAASH,EAAjB,EAAiBA,cAAeK,EAAhC,EAAgCA,IAChC,OACE,qBAAKrB,UAAWC,IAAEiC,QAASf,QAASA,EAApC,SACE,qBAAKnB,UAAWC,IAAE2B,MAAlB,SACE,qBAAKR,IAAKJ,EAAeK,IAAKA,Y,GAxBpBR,a,iBCMLsB,EAPA,SAAC,GAAiB,IAAfhB,EAAc,EAAdA,QAChB,OACE,wBAAQd,KAAK,SAASL,UAAWC,IAAEkC,OAAQhB,QAASA,EAApD,wBCJW,SAASiB,EAAWC,EAAYC,GAE7C,OAAOC,MAAM,8BAAD,OACoBF,EADpB,iBACuCC,EADvC,gBADH,qCACG,yDAEVE,MAAK,SAACC,GACN,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAJ,4B,2BCgGXC,G,kNA9Fb7D,MAAQ,CACNC,UAAW,GACX6D,OAAQ,OACRxB,OAAQ,GACRyB,WAAW,EACXC,KAAM,KACNC,MAAO,M,EAWTC,cAAgB,WACd,MAA4B,EAAKlE,MAAzBC,EAAR,EAAQA,UAAW+D,EAAnB,EAAmBA,KACnBG,EAASlE,EAAW+D,GACjBV,MAAK,SAACc,GACgB,IAAjBA,EAAOC,MACT,EAAKzD,SAAS,CAAEqD,MAAO,iBAAkBH,OAAQ,aAEjD,EAAKlD,UAAS,SAAC0D,GAAD,MAAgB,CAC5BhC,OAAO,GAAD,mBAAMgC,EAAUhC,QAAhB,YAA2B8B,EAAOG,OACxCT,OAAQ,WACRE,KAAMM,EAAUN,KAAO,EACvB/D,UAAWA,SAIhBuE,OAAM,SAACP,GAAD,OAAW,EAAKrD,SAAS,CAAEqD,QAAOH,OAAQ,iB,EAGrDW,SAAW,WACT,EAAKP,gBACLrB,OAAO6B,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,Y,EAId/C,UAAY,SAACgD,EAAWC,GACtB,EAAKrE,SAAS,CACZkB,cAAekD,EACf7C,IAAK8C,K,EAGTC,WAAa,WACX,EAAKtE,SAAS,CAAEkB,cAAe,GAAIK,IAAK,M,EAE1CgD,aAAe,SAAChC,GACVA,GACF,EAAKvC,SAAS,CAAEX,UAAWkD,K,wDA9C/B,SAAmBiC,EAAWd,GACTA,EAAUrE,YACVY,KAAKb,MAAMC,YAG5BY,KAAKD,SAAS,CAAEkD,OAAQ,UAAWE,KAAM,IACzCnD,KAAKqD,mB,oBA6CT,WACE,MAAsDrD,KAAKb,MAAnDsC,EAAR,EAAQA,OAAQwB,EAAhB,EAAgBA,OAAQG,EAAxB,EAAwBA,MAAO9B,EAA/B,EAA+BA,IAAKL,EAApC,EAAoCA,cACpC,OACE,gCACE,cAAC,EAAD,CAAWxB,OAAQO,KAAKsE,eACZ,YAAXrB,GACC,8BACE,cAAC,IAAD,CACE3C,KAAK,YACLkE,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,SAIH,aAAX1B,GACC,qCACE,cAACzB,EAAD,CAAcL,UAAWnB,KAAKmB,UAAWM,OAAQA,IACjD,cAAC,EAAD,CAAQL,QAASpB,KAAK4D,WACrB3C,GACC,cAAC,EAAD,CACEA,cAAeA,EACfK,IAAKA,EACLF,QAASpB,KAAKqE,gBAMV,aAAXpB,GAAyB,4BAAIG,W,GA1FpBtC,cCLlB8D,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFf,SAASgB,eAAe,U,kBCR1B/F,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,kBCAhPD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,mD","file":"static/js/main.0c1c7ef8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2h8fV\",\"Modal\":\"Modal_Modal__oSciB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__4Ej_r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2Xv9t\"};","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./SearchBar.module.css\";\n\n// ////////////////////////////////////////////////////////\nclass SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func,\n  };\n  state = {\n    searchbar: \"\",\n  };\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.submit(this.state.searchbar);\n    this.reset();\n  };\n  handleInputChange = (e) => {\n    const { name, value } = e.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  reset = () => {\n    this.setState({ searchbar: \"\" });\n  };\n\n  render() {\n    const { searchbar } = this.state;\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            name=\"searchbar\"\n            value={searchbar}\n            onChange={this.handleInputChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\nexport default SearchBar;\n// ////////////////////////////////////////////////////////\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, tags, modalOpen }) => {\n  return (\n    <li\n      className={s.ImageGalleryItem}\n      onClick={() => {\n        modalOpen(largeImageURL, tags);\n      }}\n    >\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\n    </li>\n  );\n};\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  modalOpen: PropTypes.func.isRequired,\n  tags: PropTypes.string,\n};\n","import React from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport s from \"./ImageGallery.module.css\";\n// import imageApi from \"../services\";\n\nexport default function ImageGallery({ modalOpen, result }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {result.map((image) => (\n        <ImageGalleryItem\n          key={image.id}\n          tags={image.tags}\n          webformatURL={image.webformatURL}\n          largeImageURL={image.largeImageURL}\n          modalOpen={modalOpen}\n        />\n      ))}\n    </ul>\n  );\n}\n","import PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport s from \"./Modal.module.css\";\n\nclass Modal extends Component {\n  static propTypes = {\n    largeImageURL: PropTypes.string,\n    tags: PropTypes.string,\n    onClick: PropTypes.func,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.cleanEventListener);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.cleanEventListener);\n  }\n\n  cleanEventListener = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClick();\n    }\n  };\n  render() {\n    const { onClick, largeImageURL, alt } = this.props;\n    return (\n      <div className={s.Overlay} onClick={onClick}>\n        <div className={s.Modal}>\n          <img src={largeImageURL} alt={alt} />\n        </div>\n      </div>\n    );\n  }\n}\nexport default Modal;\n\nModal.propTypes = {\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" className={s.Button} onClick={onClick}>\n      Load more\n    </button>\n  );\n};\nexport default Button;\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n// handleLoadButton = () => {\n//   const page = this.state.page + 1;\n//   imageApi.fetchImage(this.state.searchbar, page).then((images) =>\n//     this.setState((prevState) => ({\n//       result: [...prevState.result, ...images.hits],\n//       page: prevState.page + 1,\n//     }))\n//   );\n// };\n","/////////////////////////////////////////\nexport default function fetchImage(searchName, pages) {\n  const key = `23634410-bd912d8d36772bd1c0bd0325c`;\n  return fetch(\n    `https://pixabay.com/api/?q=${searchName}&page=${pages}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`no images on request`));\n  });\n}\n\n///////////////////////////////////////////\n","import React, { Component } from \"react\";\nimport SearchBar from \"./components/SearchBar/SearchBar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Modal from \"./components/Modal/Modal\";\nimport Button from \"./components/Button/Button\";\nimport imageApi from \"./components/services/services\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport \"./App.css\";\n\nclass App extends Component {\n  state = {\n    searchbar: \"\",\n    status: \"idle\",\n    result: [],\n    isLoading: false,\n    page: null,\n    error: null,\n  };\n  componentDidUpdate(prevProps, prevState) {\n    const prevSearch = prevState.searchbar;\n    const nextSearch = this.state.searchbar;\n\n    if (prevSearch !== nextSearch) {\n      this.setState({ status: \"pending\", page: 1 });\n      this.fetchImageApi();\n    }\n  }\n  fetchImageApi = () => {\n    const { searchbar, page } = this.state;\n    imageApi(searchbar, page)\n      .then((images) => {\n        if (images.total === 0) {\n          this.setState({ error: \"No any picture\", status: \"rejected\" });\n        } else {\n          this.setState((prevState) => ({\n            result: [...prevState.result, ...images.hits],\n            status: \"resolved\",\n            page: prevState.page + 1,\n            searchbar: searchbar,\n          }));\n        }\n      })\n      .catch((error) => this.setState({ error, status: \"rejected\" }));\n  };\n\n  loadMore = () => {\n    this.fetchImageApi();\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  modalOpen = (moduleUrl, moduleAlt) => {\n    this.setState({\n      largeImageURL: moduleUrl,\n      alt: moduleAlt,\n    });\n  };\n  modalClose = () => {\n    this.setState({ largeImageURL: \"\", alt: \"\" });\n  };\n  onFormSubmit = (searchName) => {\n    if (searchName) {\n      this.setState({ searchbar: searchName });\n    }\n    return;\n  };\n\n  render() {\n    const { result, status, error, alt, largeImageURL } = this.state;\n    return (\n      <div>\n        <SearchBar submit={this.onFormSubmit} />\n        {status === \"pending\" && (\n          <div>\n            <Loader\n              type=\"ThreeDots\"\n              color=\"#00BFFF\"\n              height={90}\n              width={90}\n              timeout={2500} //3 secs\n            />\n          </div>\n        )}\n        {status === \"resolved\" && (\n          <>\n            <ImageGallery modalOpen={this.modalOpen} result={result} />\n            <Button onClick={this.loadMore} />\n            {largeImageURL && (\n              <Modal\n                largeImageURL={largeImageURL}\n                alt={alt}\n                onClick={this.modalClose}\n              />\n            )}\n          </>\n        )}\n\n        {status === \"rejected\" && <p>{error}</p>}\n      </div>\n    );\n  }\n}\nexport default App;\n//////////////////////////////////////////////////////////\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__2i-_R\",\"SearchForm\":\"SearchBar_SearchForm__3PAvJ\",\"SearchFormButton\":\"SearchBar_SearchFormButton__1vgZG\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__2K7u_\",\"SearchFormInput\":\"SearchBar_SearchFormInput__1F9gt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3KhWy\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__12Sio\"};"],"sourceRoot":""}